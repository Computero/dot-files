#!/bin/bash
# subl

run_subl() {
    SUBLIME_DOTFILES="${DOTFILES_DIRECTORY}/subl"
    SUBLIME_DIRECTORY="${HOME}/Library/Application Support/Sublime Text 3/Packages"
    SUBLIME_USER_DIRECTORY="${SUBLIME_DIRECTORY}/User"

    log_header "Writing Sublime Text 3 preferences..."

    # Remove the User directory
    rm -rf "${SUBLIME_USER_DIRECTORY}"

    # Symlink the folder
    ln -fs "${SUBLIME_DOTFILES}" "${SUBLIME_USER_DIRECTORY}"

    # Create `~/bin`
    mkdir -p "${HOME}/bin"

    # Create CLI symlink
    ln -fs "/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl" "${HOME}/bin/slt"

    [[ $? ]] && log_success "Done"
}
